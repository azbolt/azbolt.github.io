function validEmail(t){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return e.test(t)}function getFormData(){var t=document.getElementById("gform").elements,e=Object.keys(t).map(function(e){return void 0!==t[e].name?t[e].name:t[e].length>0?t[e].item(0).name:void 0}).filter(function(t,e,n){return n.indexOf(t)==e&&t}),n={};return e.forEach(function(e){if(n[e]=t[e].value,"checkbox"===t[e].type)n[e]=t[e].checked;else if(t[e].length)for(var i=0;i<t[e].length;i++)t[e].item(i).checked&&(n[e]=t[e].item(i).value)}),console.log(n),n}function handleFormSubmit(t){t.preventDefault();var e=getFormData();if(!validEmail(e.email))return document.getElementById("email-invalid").style.display="block",!1;document.getElementById("contact-button").innerHTML="<span><i class='fa fa-spinner'></i></span>";var n=t.target.action,i=new XMLHttpRequest;i.open("POST",n),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){console.log(i.status,i.statusText),console.log(i.responseText),document.getElementById("contact-form").style.display="none",document.getElementById("thankyou_message").style.display="block"};var o=Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&");i.send(o)}function loaded(){console.log("contact form submission handler loaded successfully");var t=document.getElementById("gform");t.addEventListener("submit",handleFormSubmit,!1)}document.addEventListener("DOMContentLoaded",loaded,!1);